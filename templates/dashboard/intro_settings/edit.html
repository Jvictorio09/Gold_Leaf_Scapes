{% extends 'dashboard/base.html' %}

{% block title %}Intro Settings - Dashboard{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-800">Intro Section Settings</h1>
    <p class="text-gray-600 mt-2">Manage the intro section image on the home page.</p>
    <a href="{% url 'dashboard_home' %}" class="text-green-600 hover:underline mt-2 inline-block">
        <i class="fas fa-arrow-left mr-2"></i>Back to Dashboard
    </a>
</div>

<div class="bg-white rounded-lg shadow p-6 mb-6">
    <form method="post">
        {% csrf_token %}
        
        <div class="mb-6">
            <label for="intro_image_url" class="block text-gray-700 text-sm font-bold mb-2">Intro Image URL (Cloudinary)</label>
            <input type="url" name="intro_image_url" id="intro_image_url" value="{{ intro_settings.intro_image_url }}"
                   class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                   placeholder="https://res.cloudinary.com/...">
            <p class="text-xs text-gray-500 mt-1">
                <i class="fas fa-info-circle mr-1"></i>
                Upload images via <a href="{% url 'dashboard_gallery' %}" class="text-blue-600 hover:underline">Gallery</a> and paste the URL here.
                Leave empty to use the default SVG illustration.
            </p>
        </div>
        
        {% if intro_settings.intro_image_url %}
        <div class="mb-6 p-4 bg-gray-50 rounded-lg">
            <p class="text-sm font-semibold text-gray-700 mb-2">Current Image Preview:</p>
            <img src="{{ intro_settings.intro_image_url }}" alt="Intro image preview" 
                 class="max-w-full h-auto rounded border border-gray-300" 
                 style="max-height: 400px; object-fit: contain;">
        </div>
        {% endif %}
        
        <div class="mb-6 flex items-center">
            <input type="checkbox" name="use_svg_fallback" id="use_svg_fallback" {% if intro_settings.use_svg_fallback %}checked{% endif %} class="mr-2">
            <label for="use_svg_fallback" class="text-gray-700 text-sm font-bold">
                Use SVG fallback if no image URL is provided
            </label>
            <p class="text-xs text-gray-500 ml-4">If unchecked and no image URL is set, the intro visual section will be hidden.</p>
        </div>
        
        <div class="mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
            <p class="text-sm text-blue-800">
                <i class="fas fa-lightbulb mr-2"></i>
                <strong>Tip:</strong> The intro image appears on the left side of the intro section. 
                Recommended size: 400x400px or larger. The image will be automatically scaled to fit.
            </p>
        </div>
        
        <div class="flex gap-4">
            <button type="submit" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
                <i class="fas fa-save mr-2"></i>Save Settings
            </button>
            <a href="{% url 'dashboard_home' %}" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}

